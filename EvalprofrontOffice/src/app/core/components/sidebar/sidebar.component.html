<aside class="sidebar" [class.collapsed]="isCollapsed">
  <div class="sidebar-logo">
    <img src="assets/evalpro-logo.png" alt="EvalPro Logo" />
  </div>

  <ul class="nav">
    <li>
      <a routerLink="/home-authenticated" class="active">
        <i class="fas fa-home"></i>
        <span class="nav-label">Accueil</span>
      </a>
    </li>



    <li class="nav-section" [class.locked]="!auth.isClient()">
      <a href="#" (click)="!auth.isClient() && $event.preventDefault()">
        <i class="fas fa-folder"></i>
        <span class="nav-label">Projects</span>
      </a>
      <ul class="sub-nav">
        <li>
          <a [routerLink]="auth.isClient() ? '/projects/create' : null"
            (click)="!auth.isClient() && $event.preventDefault()" [class.disabled]="!auth.isClient()">
            <i class="fas fa-plus-circle"></i> Create a project
          </a>
        </li>
        <li>
          <a [routerLink]="auth.isClient() ? '/projects/list' : null"
            (click)="!auth.isClient() && $event.preventDefault()" [class.disabled]="!auth.isClient()">
            <i class="fas fa-list-ul"></i> Project list
          </a>
        </li>
      </ul>
    </li>



    <li [class.locked]="!auth.isClient()">
      <a [routerLink]="auth.isClient() ? '/notifications' : null" (click)="!auth.isClient() && $event.preventDefault()"
        [class.disabled]="!auth.isClient()" [attr.aria-disabled]="!auth.isClient()"
        title="{{ !auth.isClient() ? 'Réservé aux clients' : '' }}">
        <i class="fas fa-bell"></i>
        <span class="nav-label">Notifications</span>
      </a>
    </li>


    <!-- Section AI : visible pour tous, clique bloqué si non-client -->
    <li class="nav-section" [class.locked]="!auth.isClient()">
      <a href="#" (click)="!auth.isClient() && $event.preventDefault()" [class.disabled]="!auth.isClient()"
        [attr.aria-disabled]="!auth.isClient()" title="{{ !auth.isClient() ? 'Réservé aux clients' : '' }}">
        <i class="fas fa-robot"></i>
        <span class="nav-label">AI</span>
      </a>
    </li>

    <!-- Lien AI Form Designer : idem -->
    <li>
      <a [routerLink]="auth.isClient() ? '/ai/form-designer' : null"
        (click)="!auth.isClient() && $event.preventDefault()" [class.disabled]="!auth.isClient()"
        [attr.aria-disabled]="!auth.isClient()" routerLinkActive="active"
        title="{{ !auth.isClient() ? 'Réservé aux clients' : '' }}">
        <i class="fas fa-wand-magic-sparkles"></i>
        <span class="nav-label">AI Form Designer</span>
      </a>
    </li>


    <!-- Notifications… -->



    <li *ngIf="auth.isAdmin()">
      <a [routerLink]="['/admin/dossiers']" routerLinkActive="active">
        <i class="fas fa-clipboard-check"></i>
        <span>Dossiers soumis</span>
      </a>
    </li>
  </ul>


  <footer class="footer">
    <p>Powered by EvalPro © 2025</p>
  </footer>
</aside>